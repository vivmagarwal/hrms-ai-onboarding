<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HRMS Onboarding Platform</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React 18 via CDN -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    
    <!-- Babel for JSX transformation -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        * {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
        }
        
        /* Modern glassmorphism cards */
        .glass-card {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border: 1px solid rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.08);
        }
        
        .glass-card-hover {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        .glass-card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 12px 40px 0 rgba(31, 38, 135, 0.12);
        }
        
        /* Soft neumorphic elements */
        .neu-button {
            background: linear-gradient(145deg, #ffffff, #f3f4f6);
            box-shadow: 
                4px 4px 8px rgba(0, 0, 0, 0.05),
                -4px -4px 8px rgba(255, 255, 255, 0.9),
                inset 1px 1px 1px rgba(255, 255, 255, 0.3);
        }
        
        .neu-button:hover {
            box-shadow: 
                2px 2px 4px rgba(0, 0, 0, 0.05),
                -2px -2px 4px rgba(255, 255, 255, 0.9),
                inset 2px 2px 3px rgba(0, 0, 0, 0.05);
        }
        
        .neu-button:active {
            box-shadow: 
                inset 4px 4px 8px rgba(0, 0, 0, 0.08),
                inset -4px -4px 8px rgba(255, 255, 255, 0.9);
        }
        
        /* Modern gradient backgrounds */
        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }
        
        .gradient-mesh {
            background-color: #f8fafc;
            background-image: 
                radial-gradient(at 47% 33%, hsl(265, 80%, 94%) 0, transparent 59%),
                radial-gradient(at 82% 65%, hsl(218, 80%, 94%) 0, transparent 55%);
        }
        
        /* Smooth animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            33% { transform: translateY(-6px) rotate(1deg); }
            66% { transform: translateY(3px) rotate(-1deg); }
        }
        
        @keyframes pulse-glow {
            0%, 100% { 
                box-shadow: 0 0 0 0 rgba(102, 126, 234, 0.4);
            }
            50% { 
                box-shadow: 0 0 0 10px rgba(102, 126, 234, 0);
            }
        }
        
        .float-animation {
            animation: float 6s ease-in-out infinite;
        }
        
        .pulse-glow {
            animation: pulse-glow 2s infinite;
        }
        
        /* Modern progress bar */
        .progress-gradient {
            background: linear-gradient(90deg, #667eea 0%, #764ba2 50%, #f093fb 100%);
            background-size: 200% 100%;
            animation: gradient-shift 2s ease infinite;
        }
        
        @keyframes gradient-shift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        
        /* Custom scrollbar */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }
        
        ::-webkit-scrollbar-track {
            background: #f8fafc;
            border-radius: 10px;
        }
        
        ::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea, #764ba2);
            border-radius: 10px;
        }
        
        /* Icon containers with gradient */
        .icon-gradient {
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Status pills without glow */
        .status-completed {
            background: linear-gradient(135deg, #10b981, #34d399);
        }
        
        .status-progress {
            background: linear-gradient(135deg, #3b82f6, #60a5fa);
        }
        
        .status-pending {
            background: linear-gradient(135deg, #6b7280, #9ca3af);
        }
        
        /* Smooth transitions */
        * {
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        /* Loading skeleton */
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        
        .skeleton {
            background: linear-gradient(90deg, #f3f4f6 25%, #e5e7eb 50%, #f3f4f6 75%);
            background-size: 1000px 100%;
            animation: shimmer 2s infinite;
        }
        
        /* Modern input styles */
        .modern-input {
            background: rgba(255, 255, 255, 0.9);
            border: 2px solid transparent;
            background-clip: padding-box;
            position: relative;
        }
        
        .modern-input:focus {
            background: white;
            border: 2px solid #667eea;
            box-shadow: 0 0 0 4px rgba(102, 126, 234, 0.1);
        }
        
        /* Decorative shapes */
        .shape-blob {
            border-radius: 30% 70% 70% 30% / 30% 30% 70% 70%;
            background: linear-gradient(135deg, #667eea, #764ba2);
            opacity: 0.1;
            filter: blur(40px);
        }
    </style>
</head>
<body class="gradient-mesh min-h-screen">
    <!-- Decorative blobs -->
    <div class="fixed top-20 left-20 w-96 h-96 shape-blob float-animation"></div>
    <div class="fixed bottom-20 right-20 w-80 h-80 shape-blob float-animation" style="animation-delay: 2s;"></div>
    
    <div id="root"></div>
    
    <script type="text/babel">
        const { useState, useEffect, useRef, Fragment } = React;
        
        // Modern Status Badge Component
        function StatusBadge({ status }) {
            const statusConfig = {
                'not_started': { 
                    gradient: 'bg-gradient-to-r from-gray-400 to-gray-500', 
                    icon: 'fa-circle-notch', 
                    label: 'Not Started',
                    textColor: 'text-white'
                },
                'in_progress': { 
                    gradient: 'bg-gradient-to-r from-blue-400 to-indigo-500', 
                    icon: 'fa-spinner fa-spin', 
                    label: 'In Progress',
                    textColor: 'text-white'
                },
                'waiting': { 
                    gradient: 'bg-gradient-to-r from-yellow-400 to-orange-500', 
                    icon: 'fa-clock', 
                    label: 'Waiting',
                    textColor: 'text-white'
                },
                'completed': { 
                    gradient: 'bg-gradient-to-r from-green-400 to-emerald-500', 
                    icon: 'fa-check-circle', 
                    label: 'Completed',
                    textColor: 'text-white'
                },
                'failed': { 
                    gradient: 'bg-gradient-to-r from-red-400 to-pink-500', 
                    icon: 'fa-times-circle', 
                    label: 'Failed',
                    textColor: 'text-white'
                }
            };
            
            const config = statusConfig[status] || statusConfig['not_started'];
            
            return (
                <span className={`inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ${config.gradient} ${config.textColor}`}>
                    <i className={`fas ${config.icon} mr-1.5`}></i>
                    {config.label}
                </span>
            );
        }
        
        // Modern Progress Bar Component
        function ProgressBar({ progress }) {
            return (
                <div className="relative w-full">
                    <div className="w-full bg-gray-200 rounded-full h-3 overflow-hidden">
                        <div 
                            className="h-full rounded-full progress-gradient transition-all duration-700 ease-out"
                            style={{ width: `${progress}%` }}
                        >
                            <div className="h-full bg-white bg-opacity-30"></div>
                        </div>
                    </div>
                    <div className="absolute -top-6 left-0 text-xs font-bold text-gray-700">
                        {progress.toFixed(0)}%
                    </div>
                </div>
            );
        }
        
        // Modern Employee Form Component
        function EmployeeForm({ onEmployeeAdded, onClose }) {
            const [formData, setFormData] = useState({
                email: '',
                name: '',
                role: '',
                department: '',
                start_date: ''
            });
            const [submitting, setSubmitting] = useState(false);
            const [error, setError] = useState(null);
            
            const handleSubmit = async (e) => {
                e.preventDefault();
                setSubmitting(true);
                setError(null);
                
                try {
                    const response = await fetch('/api/employees', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify(formData)
                    });
                    
                    if (response.ok) {
                        const newEmployee = await response.json();
                        onEmployeeAdded(newEmployee);
                        onClose();
                    } else {
                        const errorData = await response.json();
                        setError(errorData.detail || 'Failed to add employee');
                    }
                } catch (error) {
                    setError('Network error. Please try again.');
                } finally {
                    setSubmitting(false);
                }
            };
            
            return (
                <div className="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                    <div className="glass-card rounded-2xl p-8 w-full max-w-md transform transition-all">
                        <div className="flex justify-between items-center mb-6">
                            <div>
                                <h3 className="text-2xl font-bold text-gray-800">Add New Employee</h3>
                                <p className="text-sm text-gray-600 mt-1">Fill in the employee details below</p>
                            </div>
                            <button 
                                onClick={onClose} 
                                className="neu-button w-10 h-10 rounded-full flex items-center justify-center hover:rotate-90 transition-transform"
                            >
                                <i className="fas fa-times text-gray-600"></i>
                            </button>
                        </div>
                        
                        {error && (
                            <div className="mb-6 p-4 glass-card border-l-4 border-red-500 text-red-700 rounded-lg">
                                <div className="flex">
                                    <i className="fas fa-exclamation-circle mr-2"></i>
                                    <span>{error}</span>
                                </div>
                            </div>
                        )}
                        
                        <form onSubmit={handleSubmit} className="space-y-5">
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    Email Address
                                </label>
                                <input
                                    type="email"
                                    required
                                    className="modern-input w-full px-4 py-3 rounded-xl focus:outline-none"
                                    placeholder="john.doe@company.com"
                                    value={formData.email}
                                    onChange={(e) => setFormData({...formData, email: e.target.value})}
                                />
                            </div>
                            
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    Full Name
                                </label>
                                <input
                                    type="text"
                                    required
                                    className="modern-input w-full px-4 py-3 rounded-xl focus:outline-none"
                                    placeholder="John Doe"
                                    value={formData.name}
                                    onChange={(e) => setFormData({...formData, name: e.target.value})}
                                />
                            </div>
                            
                            <div className="grid grid-cols-2 gap-4">
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">
                                        Role
                                    </label>
                                    <input
                                        type="text"
                                        required
                                        className="modern-input w-full px-4 py-3 rounded-xl focus:outline-none"
                                        placeholder="Software Engineer"
                                        value={formData.role}
                                        onChange={(e) => setFormData({...formData, role: e.target.value})}
                                    />
                                </div>
                                
                                <div>
                                    <label className="block text-sm font-semibold text-gray-700 mb-2">
                                        Department
                                    </label>
                                    <input
                                        type="text"
                                        required
                                        className="modern-input w-full px-4 py-3 rounded-xl focus:outline-none"
                                        placeholder="Engineering"
                                        value={formData.department}
                                        onChange={(e) => setFormData({...formData, department: e.target.value})}
                                    />
                                </div>
                            </div>
                            
                            <div>
                                <label className="block text-sm font-semibold text-gray-700 mb-2">
                                    Start Date
                                </label>
                                <input
                                    type="date"
                                    required
                                    className="modern-input w-full px-4 py-3 rounded-xl focus:outline-none"
                                    value={formData.start_date}
                                    onChange={(e) => setFormData({...formData, start_date: e.target.value})}
                                />
                            </div>
                            
                            <div className="flex gap-3 pt-4">
                                <button
                                    type="button"
                                    onClick={onClose}
                                    className="flex-1 neu-button px-6 py-3 rounded-xl font-semibold text-gray-700 hover:text-gray-900"
                                >
                                    Cancel
                                </button>
                                <button
                                    type="submit"
                                    disabled={submitting}
                                    className="flex-1 gradient-bg text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed"
                                >
                                    {submitting ? (
                                        <>
                                            <i className="fas fa-spinner fa-spin mr-2"></i>
                                            Adding...
                                        </>
                                    ) : (
                                        <>
                                            <i className="fas fa-user-plus mr-2"></i>
                                            Add Employee
                                        </>
                                    )}
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            );
        }
        
        // Modern Employee Detail Component
        function EmployeeDetail({ employee, onClose }) {
            const steps = [
                { key: 'company_policy_sent', label: 'Policy Sent', icon: 'fa-file-alt', color: 'from-blue-400 to-blue-600' },
                { key: 'company_policy_signed', label: 'Policy Signed', icon: 'fa-signature', color: 'from-indigo-400 to-indigo-600' },
                { key: 'company_policy_quiz_passed', label: 'Policy Quiz', icon: 'fa-check-square', color: 'from-purple-400 to-purple-600' },
                { key: 'nda_sent', label: 'NDA Sent', icon: 'fa-file-contract', color: 'from-pink-400 to-pink-600' },
                { key: 'nda_signed', label: 'NDA Signed', icon: 'fa-signature', color: 'from-red-400 to-red-600' },
                { key: 'nda_quiz_passed', label: 'NDA Quiz', icon: 'fa-check-square', color: 'from-orange-400 to-orange-600' },
                { key: 'dev_guidelines_sent', label: 'Guidelines Sent', icon: 'fa-book', color: 'from-yellow-400 to-yellow-600' },
                { key: 'dev_guidelines_signed', label: 'Guidelines Signed', icon: 'fa-signature', color: 'from-green-400 to-green-600' },
                { key: 'dev_guidelines_quiz_passed', label: 'Guidelines Quiz', icon: 'fa-check-square', color: 'from-teal-400 to-teal-600' },
                { key: 'slack_invite_sent', label: 'Slack Invite', icon: 'fa-comment', color: 'from-cyan-400 to-cyan-600' },
                { key: 'jira_access_granted', label: 'Jira Access', icon: 'fa-tasks', color: 'from-sky-400 to-sky-600' },
                { key: 'onboarding_call_scheduled', label: 'Onboarding Call', icon: 'fa-video', color: 'from-violet-400 to-violet-600' }
            ];
            
            const progress = Math.round((steps.filter(s => employee.onboarding_status[s.key] === 'completed').length / steps.length) * 100);
            
            return (
                <div className="fixed inset-0 bg-black bg-opacity-60 backdrop-blur-sm flex items-center justify-center z-50 p-4">
                    <div className="glass-card rounded-2xl p-8 w-full max-w-5xl max-h-[90vh] overflow-y-auto">
                        <div className="flex justify-between items-start mb-8">
                            <div className="flex items-center space-x-6">
                                <div className="w-20 h-20 rounded-2xl gradient-bg flex items-center justify-center text-white text-2xl font-bold shadow-lg">
                                    {employee.name.split(' ').map(n => n[0]).join('')}
                                </div>
                                <div>
                                    <h3 className="text-3xl font-bold text-gray-800">{employee.name}</h3>
                                    <p className="text-gray-600 mt-1">{employee.role} • {employee.department}</p>
                                    <p className="text-sm text-gray-500 mt-2">
                                        <i className="fas fa-envelope mr-2"></i>{employee.email}
                                    </p>
                                </div>
                            </div>
                            <button 
                                onClick={onClose} 
                                className="neu-button w-10 h-10 rounded-full flex items-center justify-center hover:rotate-90 transition-transform"
                            >
                                <i className="fas fa-times text-gray-600"></i>
                            </button>
                        </div>
                        
                        <div className="glass-card rounded-xl p-6 mb-8">
                            <div className="flex justify-between items-center mb-4">
                                <span className="text-lg font-semibold text-gray-800">Overall Progress</span>
                                <span className="text-3xl font-bold gradient-bg bg-clip-text text-transparent">
                                    {progress}%
                                </span>
                            </div>
                            <ProgressBar progress={progress} />
                        </div>
                        
                        <div>
                            <h4 className="text-xl font-bold text-gray-800 mb-6">Onboarding Journey</h4>
                            <div className="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                                {steps.map(step => {
                                    const isCompleted = employee.onboarding_status[step.key] === 'completed';
                                    return (
                                        <div 
                                            key={step.key} 
                                            className={`glass-card rounded-xl p-5 ${isCompleted ? 'glass-card-hover' : ''}`}
                                        >
                                            <div className="flex items-center justify-between mb-3">
                                                <div className={`w-12 h-12 rounded-xl bg-gradient-to-br ${step.color} flex items-center justify-center text-white shadow-lg ${isCompleted ? 'pulse-glow' : ''}`}>
                                                    <i className={`fas ${step.icon}`}></i>
                                                </div>
                                                <StatusBadge status={employee.onboarding_status[step.key]} />
                                            </div>
                                            <h5 className="font-semibold text-gray-800">{step.label}</h5>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>
                        
                        {employee.quiz_attempts && Object.keys(employee.quiz_attempts).length > 0 && (
                            <div className="mt-8">
                                <h4 className="text-xl font-bold text-gray-800 mb-4">Quiz Performance</h4>
                                <div className="grid grid-cols-1 md:grid-cols-3 gap-4">
                                    {Object.entries(employee.quiz_attempts).map(([quizType, attempts]) => (
                                        <div key={quizType} className="glass-card rounded-xl p-5">
                                            <h5 className="font-semibold text-gray-800 mb-3">
                                                {quizType.replace(/_/g, ' ').split(' ').map(w => 
                                                    w.charAt(0).toUpperCase() + w.slice(1)
                                                ).join(' ')}
                                            </h5>
                                            <div className="space-y-2">
                                                {attempts.map((attempt, idx) => (
                                                    <div key={idx} className="flex justify-between items-center text-sm">
                                                        <span className="text-gray-600">Attempt {idx + 1}</span>
                                                        <div className="flex items-center space-x-2">
                                                            <span className="font-semibold">{attempt.score}%</span>
                                                            {attempt.passed ? (
                                                                <i className="fas fa-check-circle text-green-500"></i>
                                                            ) : (
                                                                <i className="fas fa-times-circle text-red-500"></i>
                                                            )}
                                                        </div>
                                                    </div>
                                                ))}
                                            </div>
                                        </div>
                                    ))}
                                </div>
                            </div>
                        )}
                        
                        <div className="mt-8 pt-6 border-t border-gray-200 text-sm text-gray-500">
                            <div className="flex flex-wrap gap-4">
                                <span><i className="fas fa-id-badge mr-2"></i>ID: {employee.id}</span>
                                <span><i className="fas fa-calendar mr-2"></i>Start: {employee.start_date}</span>
                                {employee.workflow_thread_id && (
                                    <span><i className="fas fa-link mr-2"></i>Thread: {employee.workflow_thread_id}</span>
                                )}
                            </div>
                        </div>
                    </div>
                </div>
            );
        }
        
        // Main App Component
        function App() {
            const [employees, setEmployees] = useState([]);
            const [loading, setLoading] = useState(true);
            const [showAddForm, setShowAddForm] = useState(false);
            const [selectedEmployee, setSelectedEmployee] = useState(null);
            const pollingInterval = useRef(null);
            
            const fetchEmployees = async () => {
                try {
                    const response = await fetch('/api/employees');
                    if (response.ok) {
                        const data = await response.json();
                        setEmployees(data);
                    }
                } catch (error) {
                    console.error('Error fetching employees:', error);
                } finally {
                    setLoading(false);
                }
            };
            
            const startOnboarding = async (employeeId) => {
                try {
                    const response = await fetch('/api/onboarding/start', {
                        method: 'POST',
                        headers: { 'Content-Type': 'application/json' },
                        body: JSON.stringify({ employee_id: employeeId })
                    });
                    
                    if (response.ok) {
                        fetchEmployees();
                    }
                } catch (error) {
                    console.error('Error starting onboarding:', error);
                }
            };
            
            useEffect(() => {
                fetchEmployees();
                pollingInterval.current = setInterval(fetchEmployees, 5000);
                
                return () => {
                    if (pollingInterval.current) {
                        clearInterval(pollingInterval.current);
                    }
                };
            }, []);
            
            const handleEmployeeAdded = (newEmployee) => {
                setEmployees([...employees, newEmployee]);
            };
            
            // Calculate statistics
            const stats = {
                total: employees.length,
                completed: employees.filter(e => e.onboarding_status.completed_at).length,
                inProgress: employees.filter(e => e.onboarding_status.started_at && !e.onboarding_status.completed_at).length,
                notStarted: employees.filter(e => !e.onboarding_status.started_at).length
            };
            
            return (
                <div className="min-h-screen relative">
                    {/* Header */}
                    <header className="glass-card border-b border-white/20 sticky top-0 z-40">
                        <div className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                            <div className="flex justify-between items-center py-6">
                                <div className="flex items-center space-x-4">
                                    <div className="w-12 h-12 rounded-xl gradient-bg flex items-center justify-center shadow-lg">
                                        <i className="fas fa-users text-white text-xl"></i>
                                    </div>
                                    <div>
                                        <h1 className="text-2xl font-bold text-gray-800">
                                            Onboarding Platform
                                        </h1>
                                        <p className="text-sm text-gray-600">
                                            AI-Powered Employee Management
                                        </p>
                                    </div>
                                </div>
                                <div className="flex items-center space-x-4">
                                    <div className="hidden md:flex items-center space-x-2 text-sm">
                                        <div className="w-2 h-2 bg-green-500 rounded-full pulse-glow"></div>
                                        <span className="text-gray-600">System Active</span>
                                    </div>
                                    <button
                                        onClick={() => setShowAddForm(true)}
                                        className="gradient-bg text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl flex items-center space-x-2"
                                    >
                                        <i className="fas fa-plus"></i>
                                        <span>Add Employee</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </header>
                    
                    {/* Main Content */}
                    <main className="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
                        {/* Stats Cards */}
                        <div className="grid grid-cols-1 md:grid-cols-4 gap-6 mb-8">
                            <div className="glass-card rounded-2xl p-6 glass-card-hover">
                                <div className="flex items-center justify-between mb-4">
                                    <div className="w-14 h-14 rounded-xl bg-gradient-to-br from-blue-400 to-indigo-600 flex items-center justify-center text-white shadow-lg">
                                        <i className="fas fa-users text-xl"></i>
                                    </div>
                                    <span className="text-3xl font-bold text-gray-800">{stats.total}</span>
                                </div>
                                <p className="text-gray-600 font-semibold">Total Employees</p>
                                <p className="text-xs text-gray-500 mt-2">All registered staff</p>
                            </div>
                            
                            <div className="glass-card rounded-2xl p-6 glass-card-hover">
                                <div className="flex items-center justify-between mb-4">
                                    <div className="w-14 h-14 rounded-xl bg-gradient-to-br from-green-400 to-emerald-600 flex items-center justify-center text-white shadow-lg">
                                        <i className="fas fa-check-circle text-xl"></i>
                                    </div>
                                    <span className="text-3xl font-bold text-gray-800">{stats.completed}</span>
                                </div>
                                <p className="text-gray-600 font-semibold">Completed</p>
                                <p className="text-xs text-gray-500 mt-2">Fully onboarded</p>
                            </div>
                            
                            <div className="glass-card rounded-2xl p-6 glass-card-hover">
                                <div className="flex items-center justify-between mb-4">
                                    <div className="w-14 h-14 rounded-xl bg-gradient-to-br from-yellow-400 to-orange-600 flex items-center justify-center text-white shadow-lg">
                                        <i className="fas fa-spinner text-xl"></i>
                                    </div>
                                    <span className="text-3xl font-bold text-gray-800">{stats.inProgress}</span>
                                </div>
                                <p className="text-gray-600 font-semibold">In Progress</p>
                                <p className="text-xs text-gray-500 mt-2">Currently onboarding</p>
                            </div>
                            
                            <div className="glass-card rounded-2xl p-6 glass-card-hover">
                                <div className="flex items-center justify-between mb-4">
                                    <div className="w-14 h-14 rounded-xl bg-gradient-to-br from-gray-400 to-gray-600 flex items-center justify-center text-white shadow-lg">
                                        <i className="fas fa-clock text-xl"></i>
                                    </div>
                                    <span className="text-3xl font-bold text-gray-800">{stats.notStarted}</span>
                                </div>
                                <p className="text-gray-600 font-semibold">Pending</p>
                                <p className="text-xs text-gray-500 mt-2">Not started yet</p>
                            </div>
                        </div>
                        
                        {/* Employee Table */}
                        <div className="glass-card rounded-2xl overflow-hidden">
                            <div className="px-8 py-6 border-b border-gray-100">
                                <div className="flex items-center justify-between">
                                    <h2 className="text-xl font-bold text-gray-800">
                                        Employee Directory
                                    </h2>
                                    <span className="text-sm text-gray-500">
                                        Auto-updates every 5 seconds
                                    </span>
                                </div>
                            </div>
                            
                            {loading ? (
                                <div className="p-12 text-center">
                                    <div className="inline-flex items-center justify-center w-16 h-16 rounded-full gradient-bg text-white mb-4">
                                        <i className="fas fa-spinner fa-spin text-2xl"></i>
                                    </div>
                                    <p className="text-gray-600">Loading employee data...</p>
                                </div>
                            ) : employees.length === 0 ? (
                                <div className="p-12 text-center">
                                    <div className="inline-flex items-center justify-center w-16 h-16 rounded-full bg-gray-100 text-gray-400 mb-4">
                                        <i className="fas fa-users text-2xl"></i>
                                    </div>
                                    <p className="text-gray-600 mb-4">No employees registered yet</p>
                                    <button
                                        onClick={() => setShowAddForm(true)}
                                        className="gradient-bg text-white px-6 py-3 rounded-xl font-semibold shadow-lg hover:shadow-xl"
                                    >
                                        Add First Employee
                                    </button>
                                </div>
                            ) : (
                                <div className="overflow-x-auto">
                                    <table className="w-full">
                                        <thead className="bg-gray-50/50">
                                            <tr>
                                                <th className="px-8 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider">
                                                    Employee
                                                </th>
                                                <th className="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider">
                                                    Department
                                                </th>
                                                <th className="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider">
                                                    Progress
                                                </th>
                                                <th className="px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider">
                                                    Status
                                                </th>
                                                <th className="px-6 py-4 text-center text-xs font-bold text-gray-700 uppercase tracking-wider">
                                                    Actions
                                                </th>
                                            </tr>
                                        </thead>
                                        <tbody className="divide-y divide-gray-100">
                                            {employees.map(employee => {
                                                const progress = Math.round(
                                                    (Object.values(employee.onboarding_status)
                                                        .filter(v => v === 'completed').length / 12) * 100
                                                );
                                                
                                                return (
                                                    <tr key={employee.id} className="hover:bg-gray-50/50 transition-colors">
                                                        <td className="px-8 py-6 whitespace-nowrap">
                                                            <div className="flex items-center">
                                                                <div className="w-12 h-12 rounded-xl gradient-bg flex items-center justify-center text-white font-bold shadow-md mr-4">
                                                                    {employee.name.split(' ').map(n => n[0]).join('')}
                                                                </div>
                                                                <div>
                                                                    <div className="text-sm font-bold text-gray-900">
                                                                        {employee.name}
                                                                    </div>
                                                                    <div className="text-sm text-gray-500">
                                                                        {employee.email}
                                                                    </div>
                                                                    <div className="text-xs text-gray-400 mt-1">
                                                                        {employee.role}
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </td>
                                                        <td className="px-6 py-6 whitespace-nowrap">
                                                            <div className="text-sm font-semibold text-gray-700">
                                                                {employee.department}
                                                            </div>
                                                            <div className="text-xs text-gray-500 mt-1">
                                                                Starts {employee.start_date}
                                                            </div>
                                                        </td>
                                                        <td className="px-6 py-6 whitespace-nowrap">
                                                            <div className="w-40">
                                                                <ProgressBar progress={progress} />
                                                            </div>
                                                        </td>
                                                        <td className="px-6 py-6 whitespace-nowrap">
                                                            {employee.onboarding_status.completed_at ? (
                                                                <StatusBadge status="completed" />
                                                            ) : employee.onboarding_status.started_at ? (
                                                                <StatusBadge status="in_progress" />
                                                            ) : (
                                                                <StatusBadge status="not_started" />
                                                            )}
                                                        </td>
                                                        <td className="px-6 py-6 whitespace-nowrap text-center">
                                                            <div className="flex justify-center space-x-2">
                                                                <button
                                                                    onClick={() => setSelectedEmployee(employee)}
                                                                    className="neu-button w-10 h-10 rounded-xl flex items-center justify-center group"
                                                                    title="View Details"
                                                                >
                                                                    <i className="fas fa-eye text-gray-600 group-hover:text-indigo-600"></i>
                                                                </button>
                                                                {!employee.onboarding_status.started_at && (
                                                                    <button
                                                                        onClick={() => startOnboarding(employee.id)}
                                                                        className="neu-button w-10 h-10 rounded-xl flex items-center justify-center group"
                                                                        title="Start Onboarding"
                                                                    >
                                                                        <i className="fas fa-play text-gray-600 group-hover:text-green-600"></i>
                                                                    </button>
                                                                )}
                                                            </div>
                                                        </td>
                                                    </tr>
                                                );
                                            })}
                                        </tbody>
                                    </table>
                                </div>
                            )}
                        </div>
                    </main>
                    
                    {/* Modals */}
                    {showAddForm && (
                        <EmployeeForm 
                            onEmployeeAdded={handleEmployeeAdded}
                            onClose={() => setShowAddForm(false)}
                        />
                    )}
                    
                    {selectedEmployee && (
                        <EmployeeDetail 
                            employee={selectedEmployee}
                            onClose={() => setSelectedEmployee(null)}
                        />
                    )}
                </div>
            );
        }
        
        // Render the app
        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>